"use strict";const ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(let r=0;r<ALPHABET.length;r++){const t=ALPHABET.charAt(r);ALPHABET_MAP[t]=r}function polymodStep(r){const t=r>>25;return(33554431&r)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function prefixChk(r){let t=1;for(let e=0;e<r.length;++e){const o=r.charCodeAt(e);if(o<33||o>126)return"Invalid prefix ("+r+")";t=polymodStep(t)^o>>5}t=polymodStep(t);for(let e=0;e<r.length;++e){const o=r.charCodeAt(e);t=polymodStep(t)^31&o}return t}function convert(r,t,e,o){let n=0,c=0;const i=(1<<e)-1,f=[];for(let o=0;o<r.length;++o)for(n=n<<t|r[o],c+=t;c>=e;)c-=e,f.push(n>>c&i);if(o)c>0&&f.push(n<<e-c&i);else{if(c>=t)return"Excess padding";if(n<<e-c&i)return"Non-zero padding"}return f}function toWords(r){return convert(r,8,5,!0)}function fromWordsUnsafe(r){const t=convert(r,5,8,!1);if(Array.isArray(t))return t}function fromWords(r){const t=convert(r,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function getLibraryFromEncoding(r){let t;function e(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";const o=r.toLowerCase(),n=r.toUpperCase();if(r!==o&&r!==n)return"Mixed-case string "+r;const c=(r=o).lastIndexOf("1");if(-1===c)return"No separator character for "+r;if(0===c)return"Missing prefix for "+r;const i=r.slice(0,c),f=r.slice(c+1);if(f.length<6)return"Data too short";let s=prefixChk(i);if("string"==typeof s)return s;const l=[];for(let r=0;r<f.length;++r){const t=f.charAt(r),e=ALPHABET_MAP[t];if(void 0===e)return"Unknown character "+t;s=polymodStep(s)^e,r+6>=f.length||l.push(e)}return s!==t?"Invalid checksum for "+r:{prefix:i,words:l}}return t="bech32"===r?1:734539939,{decodeUnsafe:function(r,t){const o=e(r,t);if("object"==typeof o)return o},decode:function(r,t){const o=e(r,t);if("object"==typeof o)return o;throw new Error(o)},encode:function(r,e,o){if(o=o||90,r.length+7+e.length>o)throw new TypeError("Exceeds length limit");let n=prefixChk(r=r.toLowerCase());if("string"==typeof n)throw new Error(n);let c=r+"1";for(let r=0;r<e.length;++r){const t=e[r];if(t>>5!=0)throw new Error("Non 5-bit word");n=polymodStep(n)^t,c+=ALPHABET.charAt(t)}for(let r=0;r<6;++r)n=polymodStep(n);n^=t;for(let r=0;r<6;++r){c+=ALPHABET.charAt(n>>5*(5-r)&31)}return c},toWords:toWords,fromWordsUnsafe:fromWordsUnsafe,fromWords:fromWords}}var bech32=getLibraryFromEncoding("bech32"),bech32m=getLibraryFromEncoding("bech32m");module.exports=getLibraryFromEncoding("bech32");
